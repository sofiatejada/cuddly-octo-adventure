function mungeLocationRes(locationRes) {
  //1. grab needed display_name, lat and lon out of the array 2. change last/lon to longitude/latitude 3. change display_name to formatted_query

  const locationItem = locationRes[0];
  return {
    formatted_query: locationItem.display_name,
    latitude: locationItem.lat,
    longitude: locationItem.lon,
  };

}

function mungeWeatherRes(weatherRes) {
  const weatherItem = weatherRes.data;
  const mungedWeatherItem = weatherItem.map(item => {
    return {
      'forecast': item.weather.description,
      'time': new Date(item.ts * 1000).toLocaleDateString('en-US', { 
        weekday: 'long', 
        year:'numeric', 
        month: 'long', 
        day: 'numeric',
      })
    };
  });

  // console.log(mungedWeatherItem);
  return mungedWeatherItem;
}

module.exports = {
  mungeLocationRes, mungeWeatherRes
};

// {
//   "data": [
//       {
//           "moonrise_ts": 1624859287,
//           "wind_cdir": "NW",
//           "rh": 60,
//           "pres": 989.711,
//           "high_temp": 29.7,
//           "sunset_ts": 1624850998,
//           "ozone": 306.667,
//           "moon_phase": 0.80423,
//           "wind_gust_spd": 9.69531,
//           "snow_depth": 0,
//           "clouds": 6,
//           "ts": 1624777260,
//           "sunrise_ts": 1624798098,
//           "app_min_temp": 13.1,
//           "wind_spd": 4.38815,
//           "pop": 0,
//           "wind_cdir_full": "northwest",
//           "slp": 1008.47,
//           "moon_phase_lunation": 0.59,
//           "valid_date": "2021-06-27",
//           "app_max_temp": 28.9,
//           "vis": 22.8278,
//           "dewpt": 12.9,
//           "snow": 0,
//           "uv": 1.72862,
//           "weather": {
//               "icon": "c02d",
//               "code": 801,
//               "description": "Few clouds"
//           },
//           "wind_dir": 323,
//           "max_dhi": null,
//           "clouds_hi": 0,
//           "precip": 0,
//           "low_temp": 13.4,
//           "max_temp": 29.8,
//           "moonset_ts": 1624813211,
//           "datetime": "2021-06-27",
//           "temp": 22,
//           "min_temp": 12.6,
//           "clouds_mid": 0,
//           "clouds_low": 6
//       },
//       {
//           "moonrise_ts": 1624948123,
//           "wind_cdir": "NW",
//           "rh": 64,
//           "pres": 988.729,
//           "high_temp": 31,
//           "sunset_ts": 1624937399,
//           "ozone": 305.031,
//           "moon_phase": 0.708853,
//           "wind_gust_spd": 14.3984,
//           "snow_depth": 0,
//           "clouds": 6,
//           "ts": 1624863660,
//           "sunrise_ts": 1624884521,
//           "app_min_temp": 13.4,
//           "wind_spd": 5.49174,
//           "pop": 0,
//           "wind_cdir_full": "northwest",
//           "slp": 1007.54,
//           "moon_phase_lunation": 0.63,
//           "valid_date": "2021-06-28",
//           "app_max_temp": 30,
//           "vis": 24.096,
//           "dewpt": 12.8,
//           "snow": 0,
//           "uv": 10.7101,
//           "weather": {
//               "icon": "c02d",
//               "code": 801,
//               "description": "Few clouds"
//           },
//           "wind_dir": 326,
//           "max_dhi": null,
//           "clouds_hi": 0,
//           "precip": 0,
//           "low_temp": 14.3,
//           "max_temp": 31,
//           "moonset_ts": 1624903533,
//           "datetime": "2021-06-28",
//           "temp": 21,
//           "min_temp": 13.3,
//           "clouds_mid": 0,
//           "clouds_low": 6
//       },
//       {
//           "moonrise_ts": 1624950143,
//           "wind_cdir": "NNW",
//           "rh": 54,
//           "pres": 987.792,
//           "high_temp": 34.4,
//           "sunset_ts": 1625023797,
//           "ozone": 305.188,
//           "moon_phase": 0.607224,
//           "wind_gust_spd": 9.09375,
//           "snow_depth": 0,
//           "clouds": 1,
//           "ts": 1624950060,
//           "sunrise_ts": 1624970946,
//           "app_min_temp": 14.3,
//           "wind_spd": 3.81589,
//           "pop": 0,
//           "wind_cdir_full": "north-northwest",
//           "slp": 1006.48,
//           "moon_phase_lunation": 0.66,
//           "valid_date": "2021-06-29",
//           "app_max_temp": 33.3,
//           "vis": 24.096,
//           "dewpt": 12.5,
//           "snow": 0,
//           "uv": 10.7023,
//           "weather": {
//               "icon": "c02d",
//               "code": 801,
//               "description": "Few clouds"
//           },
//           "wind_dir": 329,
//           "max_dhi": null,
//           "clouds_hi": 0,
//           "precip": 0,
//           "low_temp": 16.7,
//           "max_temp": 34.5,
//           "moonset_ts": 1624993656,
//           "datetime": "2021-06-29",
//           "temp": 23.6,
//           "min_temp": 14.3,
//           "clouds_mid": 0,
//           "clouds_low": 1
//       },
//       {
//           "moonrise_ts": 1625038279,
//           "wind_cdir": "SSW",
//           "rh": 59,
//           "pres": 966.146,
//           "high_temp": 33,
//           "sunset_ts": 1625110194,
//           "ozone": 307.802,
//           "moon_phase": 0.504236,
//           "wind_gust_spd": 3.10547,
//           "snow_depth": 0,
//           "clouds": 4,
//           "ts": 1625036460,
//           "sunrise_ts": 1625057372,
//           "app_min_temp": 12.2,
//           "wind_spd": 1.75196,
//           "pop": 0,
//           "wind_cdir_full": "south-southwest",
//           "slp": 1008.92,
//           "moon_phase_lunation": 0.69,
//           "valid_date": "2021-06-30",
//           "app_max_temp": 31.3,
//           "vis": 22.3958,
//           "dewpt": 10.8,
//           "snow": 0,
//           "uv": 10.3175,
//           "weather": {
//               "icon": "c02d",
//               "code": 801,
//               "description": "Few clouds"
//           },
//           "wind_dir": 210,
//           "max_dhi": null,
//           "clouds_hi": 2,
//           "precip": 0,
//           "low_temp": 11.2,
//           "max_temp": 33.2,
//           "moonset_ts": 1625083625,
//           "datetime": "2021-06-30",
//           "temp": 21.2,
//           "min_temp": 11.4,
//           "clouds_mid": 0,
//           "clouds_low": 1
//       },
//       {
//           "moonrise_ts": 1625126243,
//           "wind_cdir": "S",
//           "rh": 63,
//           "pres": 967.708,
//           "high_temp": 33.1,
//           "sunset_ts": 1625196589,
//           "ozone": 310.146,
//           "moon_phase": 0.403721,
//           "wind_gust_spd": 3.32227,
//           "snow_depth": 0,
//           "clouds": 36,
//           "ts": 1625122860,
//           "sunrise_ts": 1625143799,
//           "app_min_temp": 11.2,
//           "wind_spd": 2.14978,
//           "pop": 0,
//           "wind_cdir_full": "south",
//           "slp": 1010.67,
//           "moon_phase_lunation": 0.73,
//           "valid_date": "2021-07-01",
//           "app_max_temp": 31.1,
//           "vis": 20.42,
//           "dewpt": 10.4,
//           "snow": 0,
//           "uv": 10.6276,
//           "weather": {
//               "icon": "c02d",
//               "code": 802,
//               "description": "Scattered clouds"
//           },
//           "wind_dir": 188,
//           "max_dhi": null,
//           "clouds_hi": 21,
//           "precip": 0,
//           "low_temp": 11.1,
//           "max_temp": 33.2,
//           "moonset_ts": 1625173503,
//           "datetime": "2021-07-01",
//           "temp": 20.1,
//           "min_temp": 10.7,
//           "clouds_mid": 0,
//           "clouds_low": 18
//       },
//       {
//           "moonrise_ts": 1625214125,
//           "wind_cdir": "S",
//           "rh": 70,
//           "pres": 968.281,
//           "high_temp": 33.2,
//           "sunset_ts": 1625282982,
//           "ozone": 308.812,
//           "moon_phase": 0.308739,
//           "wind_gust_spd": 2.72266,
//           "snow_depth": 0,
//           "clouds": 54,
//           "ts": 1625209260,
//           "sunrise_ts": 1625230227,
//           "app_min_temp": 11.1,
//           "wind_spd": 1.63301,
//           "pop": 0,
//           "wind_cdir_full": "south",
//           "slp": 1011.5,
//           "moon_phase_lunation": 0.76,
//           "valid_date": "2021-07-02",
//           "app_max_temp": 31.3,
//           "vis": 20.196,
//           "dewpt": 10.1,
//           "snow": 0,
//           "uv": 10.2307,
//           "weather": {
//               "icon": "c03d",
//               "code": 803,
//               "description": "Broken clouds"
//           },
//           "wind_dir": 183,
//           "max_dhi": null,
//           "clouds_hi": 52,
//           "precip": 0,
//           "low_temp": 10.4,
//           "max_temp": 33.6,
//           "moonset_ts": 1625263351,
//           "datetime": "2021-07-02",
//           "temp": 17.5,
//           "min_temp": 10.8,
//           "clouds_mid": 0,
//           "clouds_low": 14
//       },
//       {
//           "moonrise_ts": 1625302002,
//           "wind_cdir": "SSW",
//           "rh": 62,
//           "pres": 969,
//           "high_temp": 31.6,
//           "sunset_ts": 1625369373,
//           "ozone": 300.469,
//           "moon_phase": 0.22196,
//           "wind_gust_spd": 3.09961,
//           "snow_depth": 0,
//           "clouds": 11,
//           "ts": 1625295660,
//           "sunrise_ts": 1625316657,
//           "app_min_temp": 10.4,
//           "wind_spd": 1.71452,
//           "pop": 0,
//           "wind_cdir_full": "south-southwest",
//           "slp": 1012.12,
//           "moon_phase_lunation": 0.8,
//           "valid_date": "2021-07-03",
//           "app_max_temp": 30.5,
//           "vis": 18.037,
//           "dewpt": 9.5,
//           "snow": 0,
//           "uv": 10.2588,
//           "weather": {
//               "icon": "c02d",
//               "code": 801,
//               "description": "Few clouds"
//           },
//           "wind_dir": 201,
//           "max_dhi": null,
//           "clouds_hi": 0,
//           "precip": 0,
//           "low_temp": 10,
//           "max_temp": 32.8,
//           "moonset_ts": 1625353213,
//           "datetime": "2021-07-03",
//           "temp": 19.5,
//           "min_temp": 9.8,
//           "clouds_mid": 0,
//           "clouds_low": 11
//       },
//       {
//           "moonrise_ts": 1625389946,
//           "wind_cdir": "SSW",
//           "rh": 62,
//           "pres": 968.938,
//           "high_temp": 31,
//           "sunset_ts": 1625455763,
//           "ozone": 301.094,
//           "moon_phase": 0.145952,
//           "wind_gust_spd": 2.91602,
//           "snow_depth": 0,
//           "clouds": 19,
//           "ts": 1625382060,
//           "sunrise_ts": 1625403087,
//           "app_min_temp": 10,
//           "wind_spd": 1.4969,
//           "pop": 0,
//           "wind_cdir_full": "south-southwest",
//           "slp": 1012.12,
//           "moon_phase_lunation": 0.83,
//           "valid_date": "2021-07-04",
//           "app_max_temp": 29.7,
//           "vis": 20.0352,
//           "dewpt": 9,
//           "snow": 0,
//           "uv": 10.2555,
//           "weather": {
//               "icon": "c02d",
//               "code": 801,
//               "description": "Few clouds"
//           },
//           "wind_dir": 198,
//           "max_dhi": null,
//           "clouds_hi": 0,
//           "precip": 0,
//           "low_temp": 8,
//           "max_temp": 32.1,
//           "moonset_ts": 1625443110,
//           "datetime": "2021-07-04",
//           "temp": 18.8,
//           "min_temp": 9,
//           "clouds_mid": 0,
//           "clouds_low": 19
//       },
//       {
//           "moonrise_ts": 1625478033,
//           "wind_cdir": "SW",
//           "rh": 59,
//           "pres": 968.875,
//           "high_temp": 28.5,
//           "sunset_ts": 1625542151,
//           "ozone": 304.406,
//           "moon_phase": 0.0833426,
//           "wind_gust_spd": 7.30859,
//           "snow_depth": 0,
//           "clouds": 1,
//           "ts": 1625468460,
//           "sunrise_ts": 1625489519,
//           "app_min_temp": 8,
//           "wind_spd": 2.21696,
//           "pop": 0,
//           "wind_cdir_full": "southwest",
//           "slp": 1012.12,
//           "moon_phase_lunation": 0.86,
//           "valid_date": "2021-07-05",
//           "app_max_temp": 29,
//           "vis": 24.128,
//           "dewpt": 7.2,
//           "snow": 0,
//           "uv": 10.2412,
//           "weather": {
//               "icon": "c01d",
//               "code": 800,
//               "description": "Clear Sky"
//           },
//           "wind_dir": 233,
//           "max_dhi": null,
//           "clouds_hi": 0,
//           "precip": 0,
//           "low_temp": 10.1,
//           "max_temp": 31.3,
//           "moonset_ts": 1625533024,
//           "datetime": "2021-07-05",
//           "temp": 18,
//           "min_temp": 7.9,
//           "clouds_mid": 0,
//           "clouds_low": 1
//       },
//       {
//           "moonrise_ts": 1625566339,
//           "wind_cdir": "NW",
//           "rh": 62,
//           "pres": 967.938,
//           "high_temp": 24.5,
//           "sunset_ts": 1625628537,
//           "ozone": 299,
//           "moon_phase": 0.0833426,
//           "wind_gust_spd": 7.50781,
//           "snow_depth": 0,
//           "clouds": 1,
//           "ts": 1625554860,
//           "sunrise_ts": 1625575952,
//           "app_min_temp": 10.1,
//           "wind_spd": 3.5207,
//           "pop": 0,
//           "wind_cdir_full": "northwest",
//           "slp": 1011,
//           "moon_phase_lunation": 0.9,
//           "valid_date": "2021-07-06",
//           "app_max_temp": 27.3,
//           "vis": 24.128,
//           "dewpt": 8.9,
//           "snow": 0,
//           "uv": 10.2369,
//           "weather": {
//               "icon": "c01d",
//               "code": 800,
//               "description": "Clear Sky"
//           },
//           "wind_dir": 315,
//           "max_dhi": null,
//           "clouds_hi": 0,
//           "precip": 0,
//           "low_temp": 9.5,
//           "max_temp": 28.8,
//           "moonset_ts": 1625619424,
//           "datetime": "2021-07-06",
//           "temp": 18,
//           "min_temp": 10,
//           "clouds_mid": 0,
//           "clouds_low": 1
//       },
//       {
//           "moonrise_ts": 1625654945,
//           "wind_cdir": "NW",
//           "rh": 80,
//           "pres": 967.1,
//           "high_temp": 37,
//           "sunset_ts": 1625714921,
//           "ozone": 308.95,
//           "moon_phase": 0.0367708,
//           "wind_gust_spd": 6.91016,
//           "snow_depth": 0,
//           "clouds": 11,
//           "ts": 1625641260,
//           "sunrise_ts": 1625662387,
//           "app_min_temp": 9.5,
//           "wind_spd": 2.75851,
//           "pop": 0,
//           "wind_cdir_full": "northwest",
//           "slp": 1010.7,
//           "moon_phase_lunation": 0.93,
//           "valid_date": "2021-07-07",
//           "app_max_temp": 21.3,
//           "vis": 23.984,
//           "dewpt": 9.1,
//           "snow": 0,
//           "uv": 7.85188,
//           "weather": {
//               "icon": "c02d",
//               "code": 801,
//               "description": "Few clouds"
//           },
//           "wind_dir": 314,
//           "max_dhi": null,
//           "clouds_hi": 0,
//           "precip": 0,
//           "low_temp": 16.3,
//           "max_temp": 24.5,
//           "moonset_ts": 1625709293,
//           "datetime": "2021-07-07",
//           "temp": 13.2,
//           "min_temp": 9.4,
//           "clouds_mid": 0,
//           "clouds_low": 11
//       },
//       {
//           "moonrise_ts": 1625743919,
//           "wind_cdir": "S",
//           "rh": 54,
//           "pres": 969.5,
//           "high_temp": 30.5,
//           "sunset_ts": 1625801304,
//           "ozone": 312.5,
//           "moon_phase": 0.00866287,
//           "wind_gust_spd": 1.11328,
//           "snow_depth": 0,
//           "clouds": 0,
//           "ts": 1625727660,
//           "sunrise_ts": 1625748822,
//           "app_min_temp": 14.4,
//           "wind_spd": 1.04004,
//           "pop": 0,
//           "wind_cdir_full": "south",
//           "slp": 1012.5,
//           "moon_phase_lunation": 0.96,
//           "valid_date": "2021-07-08",
//           "app_max_temp": 23.9,
//           "vis": 24.128,
//           "dewpt": 9,
//           "snow": 0,
//           "uv": 7.8077,
//           "weather": {
//               "icon": "c01d",
//               "code": 800,
//               "description": "Clear Sky"
//           },
//           "wind_dir": 180,
//           "max_dhi": null,
//           "clouds_hi": 0,
//           "precip": 0,
//           "low_temp": 13.5,
//           "max_temp": 33.7,
//           "moonset_ts": 1625799015,
//           "datetime": "2021-07-08",
//           "temp": 19.4,
//           "min_temp": 14.3,
//           "clouds_mid": 0,
//           "clouds_low": 0
//       },
//       {
//           "moonrise_ts": 1625833294,
//           "wind_cdir": "SSW",
//           "rh": 35,
//           "pres": 967.75,
//           "high_temp": 25.2,
//           "sunset_ts": 1625887684,
//           "ozone": 302,
//           "moon_phase": 0.000911295,
//           "wind_gust_spd": 2,
//           "snow_depth": 0,
//           "clouds": 0,
//           "ts": 1625814060,
//           "sunrise_ts": 1625835258,
//           "app_min_temp": 18,
//           "wind_spd": 1.59695,
//           "pop": 0,
//           "wind_cdir_full": "south-southwest",
//           "slp": 1010,
//           "moon_phase_lunation": 1,
//           "valid_date": "2021-07-09",
//           "app_max_temp": 31.6,
//           "vis": 24.128,
//           "dewpt": 7.6,
//           "snow": 0,
//           "uv": 7.82991,
//           "weather": {
//               "icon": "c01d",
//               "code": 800,
//               "description": "Clear Sky"
//           },
//           "wind_dir": 194,
//           "max_dhi": null,
//           "clouds_hi": 0,
//           "precip": 0,
//           "low_temp": 13.1,
//           "max_temp": 37.1,
//           "moonset_ts": 1625888484,
//           "datetime": "2021-07-09",
//           "temp": 26.2,
//           "min_temp": 17.5,
//           "clouds_mid": 0,
//           "clouds_low": 0
//       },
//       {
//           "moonrise_ts": 1625923043,
//           "wind_cdir": "S",
//           "rh": 33,
//           "pres": 964.5,
//           "high_temp": 36.3,
//           "sunset_ts": 1625974063,
//           "ozone": 303.125,
//           "moon_phase": 0.0146002,
//           "wind_gust_spd": 1.50391,
//           "snow_depth": 0,
//           "clouds": 0,
//           "ts": 1625900460,
//           "sunrise_ts": 1625921695,
//           "app_min_temp": 16.3,
//           "wind_spd": 1.69949,
//           "pop": 0,
//           "wind_cdir_full": "south",
//           "slp": 1007,
//           "moon_phase_lunation": 0.03,
//           "valid_date": "2021-07-10",
//           "app_max_temp": 34.3,
//           "vis": 24.128,
//           "dewpt": 5,
//           "snow": 0,
//           "uv": 7.80913,
//           "weather": {
//               "icon": "c01d",
//               "code": 800,
//               "description": "Clear Sky"
//           },
//           "wind_dir": 188,
//           "max_dhi": null,
//           "clouds_hi": 0,
//           "precip": 0,
//           "low_temp": 14.1,
//           "max_temp": 37,
//           "moonset_ts": 1625977630,
//           "datetime": "2021-07-10",
//           "temp": 26.6,
//           "min_temp": 14.1,
//           "clouds_mid": 0,
//           "clouds_low": 0
//       },
//       {
//           "moonrise_ts": 1626013081,
//           "wind_cdir": "S",
//           "rh": 43,
//           "pres": 964.75,
//           "high_temp": 33.2,
//           "sunset_ts": 1626060440,
//           "ozone": 305,
//           "moon_phase": 0.0498712,
//           "wind_gust_spd": 2.52148,
//           "snow_depth": 0,
//           "clouds": 0,
//           "ts": 1625986860,
//           "sunrise_ts": 1626008133,
//           "app_min_temp": 13.5,
//           "wind_spd": 1.73934,
//           "pop": 0,
//           "wind_cdir_full": "south",
//           "slp": 1007.25,
//           "moon_phase_lunation": 0.07,
//           "valid_date": "2021-07-11",
//           "app_max_temp": 30.9,
//           "vis": 24.128,
//           "dewpt": 5.2,
//           "snow": 0,
//           "uv": 7.78874,
//           "weather": {
//               "icon": "c01d",
//               "code": 800,
//               "description": "Clear Sky"
//           },
//           "wind_dir": 177,
//           "max_dhi": null,
//           "clouds_hi": 0,
//           "precip": 0,
//           "low_temp": 12.6,
//           "max_temp": 33.3,
//           "moonset_ts": 1626066439,
//           "datetime": "2021-07-11",
//           "temp": 23.4,
//           "min_temp": 12.6,
//           "clouds_mid": 0,
//           "clouds_low": 0
//       },
//       {
//           "moonrise_ts": 1626103291,
//           "wind_cdir": "SSW",
//           "rh": 55,
//           "pres": 970.25,
//           "high_temp": 31,
//           "sunset_ts": 1626146816,
//           "ozone": 302,
//           "moon_phase": 0.10592,
//           "wind_gust_spd": 2.00781,
//           "snow_depth": 0,
//           "clouds": 0,
//           "ts": 1626073260,
//           "sunrise_ts": 1626094572,
//           "app_min_temp": 13.1,
//           "wind_spd": 1.69479,
//           "pop": 0,
//           "wind_cdir_full": "south-southwest",
//           "slp": 1013,
//           "moon_phase_lunation": 0.1,
//           "valid_date": "2021-07-12",
//           "app_max_temp": 28.8,
//           "vis": 24.128,
//           "dewpt": 9.1,
//           "snow": 0,
//           "uv": 7.77504,
//           "weather": {
//               "icon": "c01d",
//               "code": 800,
//               "description": "Clear Sky"
//           },
//           "wind_dir": 192,
//           "max_dhi": null,
//           "clouds_hi": 0,
//           "precip": 0,
//           "low_temp": 10.6,
//           "max_temp": 31,
//           "moonset_ts": 1626154953,
//           "datetime": "2021-07-12",
//           "temp": 21.8,
//           "min_temp": 10.6,
//           "clouds_mid": 0,
//           "clouds_low": 0
//       }
//   ],
//   "city_name": "Morgan Hill",
//   "lon": "-121.65439",
//   "timezone": "America/Los_Angeles",
//   "lat": "37.1305",
//   "country_code": "US",
//   "state_code": "CA"
// }